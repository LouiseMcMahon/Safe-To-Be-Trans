extends layout

block head
	script(src='https://code.jquery.com/jquery-3.1.0.min.js' integrity='sha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s=' crossorigin='anonymous')
	script(src='/map/ammap.js')
	script(src='/map/maps/worldLow.js')
	script(src='/map/themes/light.js')
	script(src='/map/plugins/responsive/responsive.min.js')

block content
	.col-xs-12
		script.
			var map = AmCharts.makeChart( 'chartdiv', {
				'type': 'map',
				'theme': 'light',
				'projection':'miller',
				'dataProvider': {
					'map': 'worldLow',
					'getAreasFromMap': true,
					'areas': [
						{'id': 'AU', 'color': '#CC0000', 'balloonText' : ''},
						{'id': 'US', 'color': '#00CC00'},
						{'id': 'FR', 'color': '#0000CC'}
					]
				},
				'smallMap': {},
				'responsive': {
					'enabled': true
				}
			} );

			//scales the height as AmCharts does not work if the container has percentage height
			$(function () {
				$(window).resize(function () {
					$('#chartdiv').height($(window).height() - $('#chartdiv').offset().top);
				});
				$(window).resize();
			});

		#chartdiv
